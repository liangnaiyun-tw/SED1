# TL;DR
To use auto testing, follow the steps below.

## 0. Folder Structure
The structure of your folders should be like below
```
[dir] [YourFolder]/
--> [dir] [CodeFolder]/
----->  *.java
--> [dir] [TestFolder]/
----->  sampleInput*.txt    # Test cases
----->  sampleOutput*.txt   # Expected results
----->  [TestScript.ps1]    # Test script for powershell
```

* `YourFolder`: The folder you implemented.
* `CodeFolder`: The folder of `java` files.
* `TestFolder`: The folder where you put your test cases.
* `TestScript.ps1`: The auto-testing script run by `Powershell`.

## 1. Change Maven Configuration
Change **[maven.yml](./.github/workflows/maven.yml)**
```yml
...
-name: Run the Maven
 run: |
   cd .\[YourFolder]\[TestFolder]
   .\[TestScript.ps1]
```

## 2. Change Testing Script
In `./[YourFolder]/[TestFolder]/[TestScript.ps1]`, change the first two lines like below
```powershell
$codeFolder = "\[CodeFolder]"
$testFolder = "\[TestFolder]"
...
```

## 3. Use Github Command
Use `push` command as before.

## 4. Results
In Github, select the `Action tab`

# Auto Testing
## Maven Configuration
In **[.github/workflows/maven.yml](./.github/workflows/maven.yml)**

* `runs-on` specifies which OS server is used to run the Maven configuration. The default is `windows-lastest`, which means use Windows OS.

* `steps/with`
    - `java-version` The Java version. Default is `17`.
    - `distribution` The JDK distribution. Default is `temurin`.
    - `architecture` The target architecture of the package. Default is `x64`.

* `run`<br>
The commands run on OS by Maven. Since the current OS is Windows by `runs-on`, the commands are run in `powershell` environment. The commands are showed below
```yml
- name: Run the Maven
  run: |
    cd .\[YourFolder]\[TestFolder]
    .\[TestScript.ps1]
```
* `YourFolder`: The folder you implemented.
* `TestFolder`: The folder where you put your test cases.
* `TestScript.ps1`: The testing script run by `Powershell`.

> **Note**<br>
> In powershell, the testing script uses `Compare-Object` command to compare expected output and result.

## Testing script run by Powershell
In `TestFolder`, there should be an powershell script file `TestScript.ps1` to run testing process, the content is like below
```powershell
$codeFolder = "\[CodeFolder]"
$testFolder = "\[TestFolder]"
...
```
Where `CodeFolder` is the folder of your java files (like `src`).

## Test Result
After running `push` command, `maven.yml` should run the testing process, and generate `result*.txt` files in `TestFolder`, containing the outputs generated by compiled classes.

## How Should Your Folder be Structured
The folder `YourFolder` should be structured like below
```
[dir] [YourFolder]/
--> [dir] [CodeFolder]/
----->  *.java
--> [dir] [TestFolder]/
----->  sampleInput*.txt    # Test cases
----->  sampleOutput*.txt   # Expected results
----->  [TestScript.ps1]    # Test script for powershell
```